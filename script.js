// Translations
const translations = {
    en: {
        nav: {
            shop: 'Shop',
            about: 'About Us',
            languages: 'Languages'
        },
        hero: {
            tagline: 'Explore fragrances inspired by the Magical World of Harry Potter'
        },
        available: {
            title: 'AVAILABLE NOW',
            text1: 'Immerse yourselves in the allure of the Wizarding World through our new fragrance range.',
            text2: 'Inspired by iconic places and scenes from the series, each scent invokes feelings',
            text3: 'of magic and adventure.',
            button: 'ALL FRAGRANCES'
        },
        product: {
            videoButton: 'PLAY VIDEO',
            shopButton: 'SHOP NOW'
        },
        products: {
            wisdom: {
                title: 'MAGICAL ESSENCE WISDOM',
                description: 'Magical Essence "Wisdom" starts with a refreshing and spicy top note: apple meets herbaceous-aromatic juniper, complemented by lemon, pink pepper and mandarin. At the heart of the fragrance unfolds a powerful blend of cardamom, cinnamon and geranium. Patchouli, moss, musk and smoky vetiver form the base of the fragrance.'
            },
            passion: {
                title: 'MAGICAL ESSENCE PASSION',
                description: 'Magical Essence "Passion" is a sparkling fragrance with a smoky-intense note, skillfully underlined by the top note of mandarin, orange, blackcurrant and the mystical smoke of dragon fire - inspired by incense. Violet, cedarwood and balsamic notes lend the composition a warm atmosphere, while mysterious dragon tears provide a harmonious blend of aqueous notes. The base of vanilla and musk ensures a balanced harmony.'
            },
            ambition: {
                title: 'MAGICAL ESSENCE AMBITION',
                description: 'Magical Essence "Ambition" impresses with its mysterious top note of incense from the Phoenix nest and spicy-sharp ginger. At the heart of the fragrance unfolds a fascinating combination of ash smoke and clove, refined by a touch of cinnamon and the unique smoky note of the Phoenix feather. Vetiver, leather, amber and musk form a deep base and give the fragrance an earthy quality.'
            },
            courage: {
                title: 'MAGIC ESSENCE COURAGE',
                description: 'Magical Essence "Courage" begins with a vibrant top note of bergamot, apple and blackcurrant, creating a fresh aura. At the heart of the fragrance unfolds an opulent bouquet of fine iris powder, violet leaf oil, an ensemble of white flowers and the noble nuance of rose. In the base note, musk, sandalwood, patchouli oil and a hint of vanilla merge into a magical finale.'
            },
            legendary: {
                title: 'MAGICAL ESSENCE LEGENDARY',
                description: 'Bright top notes of incense, mint oil and cardamom invigorate the senses, while the heart note of rich coffee beans, lavender and tonka lends depth and fascination. A warm base note of cedarwood, musk and amber rounds off the fragrance and recalls a lasting legacy of bravery. Refined with a touch of herbs and moss, this invigorating composition reconnects you with the vibrant essence of nature. Let "Legendary" take you on an unforgettable fragrance adventure'
            },
            mystic: {
                title: 'MAGICAL ESSENCE MYSTIC',
                description: 'Step into a world of magic with this mystical purple fragrance, where every note is infused with magic and fascination. It begins with a fresh blend of bergamot, pear and pink pepper that instantly captivates. The heart note unfolds with peony, rose and lily of the valley, reminiscent of a secret garden. A velvety base note of patchouli, sandalwood, white musk and tonka beans provides a mysterious yet soothing finish. Perfect for those who move between reality and magic, leaving a trail of mystical elegance.'
            }
        }
    },
    de: {
        nav: {
            shop: 'Shop',
            about: 'Über uns',
            languages: 'Sprachen'
        },
        hero: {
            tagline: 'Entdecke Düfte inspiriert von der magischen Welt von Harry Potter'
        },
        available: {
            title: 'JETZT VERFÜGBAR',
            text1: 'Tauche mit unserer neuen Duftserie in die Faszination der Zauberwelt ein.',
            text2: 'Inspiriert von ikonischen Orten und Szenen aus den Filmen, ruft jeder Duft Gefühle',
            text3: 'von Magie und Abenteuer hervor.',
            button: 'ALLE DÜFTE'
        },
        product: {
            videoButton: 'VIDEO ABSPIELEN',
            shopButton: 'JETZT EINKAUFEN'
        },
        products: {
            wisdom: {
                title: 'MAGICAL ESSENCE WISDOM',
                description: 'Magical Essence „Wisdom" startet mit einer erfrischenden und zugleich würzigen Kopfnote: Apfel trifft auf herb-aromatischen Wacholder, ergänzt durch Zitrone, pinken Pfeffer und Mandarine. Im Herzen des Duftes entfaltet sich eine kraftvolle Mischung aus Kardamom, Zimt und Geranie. Patschuli, Moos, Moschus und rauchiger Vetiver bilden den Fond des Duftes.'
            },
            passion: {
                title: 'MAGICAL ESSENCE PASSION',
                description: 'Magical Essence „Passion" ist ein spritziger Duft mit einer rauchig-intensiven Note, der durch die Kopfnote aus Mandarine, Orange, schwarzer Johannisbeere und dem mystischen Rauch des Drachenfeuers - das inspiriert von Weihrauch ist - gekonnt untermalt wird. Veilchen, Zedernholz und balsamische Noten verleihen der Komposition eine warme Atmosphäre, während geheimnisvolle Drachentränen für eine harmonische Mischung aus wässrigen Noten sorgen. Die Basis aus Vanille und Moschus sorgt für eine ausgewogene Balance.'
            },
            ambition: {
                title: 'MAGICAL ESSENCE AMBITION',
                description: 'Magical Essence „Ambition" überzeugt mit seiner geheimnisvollen Kopfnote aus Weihrauch aus dem Phoenix-Nest und würzig-scharfem Ingwer. Im Herzen des Duftes entfaltet sich eine faszinierende Kombination aus Ascherauch und Nelke, verfeinert durch einen Hauch von Zimt und der einzigartigen rauchigen Note der Phoenixfeder. Vetiver, Leder, Amber und Moschus bilden eine tiefe Basis und verleihen dem Duft eine erdige Qualität.'
            },
            courage: {
                title: 'MAGIC ESSENCE COURAGE',
                description: 'Magical Essence „Courage" beginnt mit einer lebendigen Kopfnote aus Bergamotte, Apfel und schwarzer Johannisbeere, die eine frische Aura schafft. Im Herzen des Duftes entfaltet sich ein opulentes Bouquet aus feinem Irispuder, Veilchenblatt-Öl, einem Ensemble weißer Blumen und der edlen Nuance der Rose. In der Basisnote verschmelzen Moschus, Sandelholz, Patschuli-Öl und ein Hauch von Vanille zu einem magischen Finale.'
            },
            legendary: {
                title: 'MAGICAL ESSENCE LEGENDARY',
                description: 'Helle Kopfnoten von Weihrauch, Minzöl und Kardamom beleben die Sinne, während die Herznote aus reichhaltigen Kaffeebohnen, Lavendel und Tonka Tiefe und Faszination verleiht. Eine warme Basisnote aus Zedernholz, Moschus und Amber rundet den Duft ab und erinnert an ein bleibendes Vermächtnis der Tapferkeit. Verfeinert mit einem Hauch von Kräutern und Moos, verbindet Sie diese belebende Komposition wieder mit der lebendigen Essenz der Natur. Lassen Sie sich von „Legendary" auf ein unvergessliches Duftabenteuer entführen'
            },
            mystic: {
                title: 'MAGICAL ESSENCE MYSTIC',
                description: 'Tritt ein in eine Welt voller Zauber mit diesem mystischen violetten Duft, in dem jede Note von Magie und Faszination durchdrungen ist. Er beginnt mit einer frischen Mischung aus Bergamotte, Birne und rosa Pfeffer, die sofort in ihren Bann zieht. Die Herznote entfaltet sich mit Pfingstrose, Rose und Maiglöckchen und erinnert an einen geheimen Garten. Eine samtige Basisnote aus Patchouli, Sandelholz, weißem Moschus und Tonkabohnen sorgt für einen geheimnisvollen und doch beruhigenden Abgang. Perfekt für alle, die sich zwischen Realität und Magie bewegen und eine Spur mystischer Eleganz hinterlassen.'
            }
        }
    },
    es: {
        nav: {
            shop: 'Tienda',
            about: 'Nosotros',
            languages: 'Idiomas'
        },
        hero: {
            tagline: 'Descubre fragancias inspiradas en el mágico universo de Harry Potter'
        },
        available: {
            title: 'YA DISPONIBLE',
            text1: 'Sumérgete en la fascinación del Wizarding World con nuestra nueva colección de fragancias.',
            text2: 'Inspiradas en los lugares y escenas más emblemáticos de la serie, cada esencia despierta',
            text3: 'sensaciones de magia y aventura.',
            button: 'TODAS LAS FRAGANCIAS'
        },
        product: {
            videoButton: 'VER VIDEO',
            shopButton: 'COMPRAR AHORA'
        },
        products: {
            wisdom: {
                title: 'MAGICAL ESSENCE WISDOM',
                description: 'Magical Essence "Wisdom" comienza con una nota de cabeza refrescante y especiada: manzana se encuentra con enebro herbáceo-aromático, complementado con limón, pimienta rosa y mandarina. En el corazón de la fragancia se despliega una poderosa mezcla de cardamomo, canela y geranio. Pachulí, musgo, almizcle y vetiver ahumado forman la base de la fragancia.'
            },
            passion: {
                title: 'MAGICAL ESSENCE PASSION',
                description: 'Magical Essence "Passion" es una fragancia chispeante con una nota ahumada-intensa, hábilmente subrayada por la nota de cabeza de mandarina, naranja, grosella negra y el humo místico del fuego del dragón - inspirado en el incienso. Violeta, madera de cedro y notas balsámicas dan a la composición un ambiente cálido, mientras que las misteriosas lágrimas de dragón proporcionan una mezcla armoniosa de notas acuosas. La base de vainilla y almizcle asegura un equilibrio perfecto.'
            },
            ambition: {
                title: 'MAGICAL ESSENCE AMBITION',
                description: 'Magical Essence "Ambition" impresiona con su misteriosa nota de cabeza de incienso del nido del Fénix y jengibre picante. En el corazón de la fragancia se despliega una fascinante combinación de humo de ceniza y clavo, refinada con un toque de canela y la nota ahumada única de la pluma del Fénix. Vetiver, cuero, ámbar y almizcle forman una base profunda y dan a la fragancia una calidad terrosa.'
            },
            courage: {
                title: 'MAGIC ESSENCE COURAGE',
                description: 'Magical Essence "Courage" comienza con una vibrante nota de cabeza de bergamota, manzana y grosella negra, creando un aura fresca. En el corazón de la fragancia se despliega un opulento bouquet de fino polvo de iris, aceite de hoja de violeta, un conjunto de flores blancas y el matiz noble de la rosa. En la nota de base, almizcle, sándalo, aceite de pachulí y un toque de vainilla se fusionan en un final mágico.'
            },
            legendary: {
                title: 'MAGICAL ESSENCE LEGENDARY',
                description: 'Notas de cabeza brillantes de incienso, aceite de menta y cardamomo vigorizan los sentidos, mientras que la nota de corazón de ricos granos de café, lavanda y tonka aporta profundidad y fascinación. Una cálida nota de base de madera de cedro, almizcle y ámbar redondea la fragancia y recuerda un legado duradero de valentía. Refinada con un toque de hierbas y musgo, esta vigorizante composición te reconecta con la vibrante esencia de la naturaleza. Deja que "Legendary" te lleve en una aventura de fragancia inolvidable'
            },
            mystic: {
                title: 'MAGICAL ESSENCE MYSTIC',
                description: 'Entra en un mundo de magia con esta mística fragancia púrpura, donde cada nota está impregnada de magia y fascinación. Comienza con una mezcla fresca de bergamota, pera y pimienta rosa que cautiva instantáneamente. La nota de corazón se despliega con peonía, rosa y lirio de los valles, reminiscente de un jardín secreto. Una nota de base aterciopelada de pachulí, sándalo, almizcle blanco y habas tonka proporciona un final misterioso pero relajante. Perfecto para aquellos que se mueven entre la realidad y la magia, dejando un rastro de elegancia mística.'
            }
        }
    }
};

// Current language (default: English)
let currentLang = 'en';

// Function to update all text elements based on current language
function updateLanguage(lang) {
    currentLang = lang;

    // Update HTML lang attribute
    document.documentElement.lang = lang;

    // Find all elements with data-i18n attribute
    const elements = document.querySelectorAll('[data-i18n]');

    elements.forEach(element => {
        const key = element.getAttribute('data-i18n');
        const keys = key.split('.');

        // Navigate through the translations object
        let translation = translations[lang];
        for (let k of keys) {
            translation = translation[k];
        }

        if (translation) {
            element.textContent = translation;
        }
    });

    // Save language preference
    localStorage.setItem('preferred-language', lang);
}

// Mobile Menu Toggle
document.addEventListener('DOMContentLoaded', function() {
    // Load saved language preference
    const savedLang = localStorage.getItem('preferred-language');
    if (savedLang && translations[savedLang]) {
        updateLanguage(savedLang);
    }

    const menuToggle = document.querySelector('.menu-toggle');
    const navMenu = document.querySelector('.nav-menu');

    if (menuToggle) {
        menuToggle.addEventListener('click', function() {
            navMenu.classList.toggle('active');

            // Animate hamburger menu
            const spans = menuToggle.querySelectorAll('span');
            if (navMenu.classList.contains('active')) {
                spans[0].style.transform = 'rotate(45deg) translateY(10px)';
                spans[1].style.opacity = '0';
                spans[2].style.transform = 'rotate(-45deg) translateY(-10px)';
            } else {
                spans[0].style.transform = '';
                spans[1].style.opacity = '1';
                spans[2].style.transform = '';
            }
        });
    }

    // Close mobile menu when clicking a link
    const navLinks = document.querySelectorAll('.nav-menu a');
    navLinks.forEach(link => {
        link.addEventListener('click', function() {
            if (window.innerWidth <= 768) {
                navMenu.classList.remove('active');
                const spans = menuToggle.querySelectorAll('span');
                spans[0].style.transform = '';
                spans[1].style.opacity = '1';
                spans[2].style.transform = '';
            }
        });
    });

    // Language switcher
    const langButtons = document.querySelectorAll('.lang-btn');
    langButtons.forEach(button => {
        button.addEventListener('click', function() {
            const lang = this.getAttribute('data-lang');
            updateLanguage(lang);

            // Close dropdown on mobile
            if (window.innerWidth <= 768) {
                navMenu.classList.remove('active');
            }
        });
    });

    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            const href = this.getAttribute('href');
            if (href !== '#' && href.length > 1) {
                const target = document.querySelector(href);
                if (target) {
                    e.preventDefault();
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            }
        });
    });

    // CTA Button functionality
    const ctaButton = document.querySelector('.cta-button');
    if (ctaButton) {
        ctaButton.addEventListener('click', function() {
            // Scroll to fragrances section or navigate to shop
            console.log('Navigate to all fragrances');
        });
    }
});
